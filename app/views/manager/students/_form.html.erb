<%= form_with(model: [:manager, student]) do |form| %>
  <div class="form-group">
    <%= form.label :name, "Name student :" %>
    <%= form.text_field :name, class: "form-control", placeholder: "Name Student" %>
    <% @student.errors.full_messages_for(:name).each do |e| %>
      <div><%= e %></div>
    <% end %>
  </div>

  <div class="form-group">
    <%= form.label :age, "Age :" %>
    <%= form.text_field :age, class: "form-control", placeholder: "Age" %>
  </div>
  
  <div class="form-group">
    <%= form.label :phone, "Phone number:" %>
    <%= form.text_field :phone, class: "form-control", placeholder: "Phone" %>
  </div>

  <div class="form-group">
    <%= form.label :avatar, "Link Img" %>
    <%= form.file_field :avatar, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :song, "Link Mp3" %>
    <%= form.file_field :song, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :video, "Link video" %>
    <%= form.file_field :video, class: "form-control" %>
  </div>

  <%= form.add_nested_fields_link :grades %>

  <%= form.nested_fields_for :grades do |grade| %>
    <%= grade.text_field :score, style: "width: 30%", class: "form-control form-control-sm", placeholder: "Score" %>
    <%= grade.select(:subject, Grade.subjects.keys, { style: "width: 30%", class: "form-select form-select-sm" }) %>
    <%= grade.select(:semester, Grade.semesters.keys, { style: "width: 30%", class: "form-select form-select-sm" }) %>
    <%= grade.remove_nested_fields_link 'Remove' %>
  <% end %>
  
  <div>
    <%= form.submit "Save", class: "btn btn-primary" %>
  </div>
<% end %>


<%= javascript_include_tag 'nested_form_fields'%>



